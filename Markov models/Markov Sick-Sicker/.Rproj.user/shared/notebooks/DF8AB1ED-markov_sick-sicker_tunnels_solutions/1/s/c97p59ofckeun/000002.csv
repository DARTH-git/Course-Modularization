"0","# Function to generate PSA input dataset"
"0","generate_psa_params <- function(n_sim = 1000, seed = 071818){"
"0","  set.seed(seed) # set a seed to be able to reproduce the same results"
"0","  df_psa <- data.frame("
"0","    # Transition probabilities (per cycle)"
"0","    p_HS1   = rbeta(n_sim, 30, 170),  # probability to become sick when healthy"
"0","    p_S1H   = rbeta(n_sim, 60, 60) ,  # probability to become healthy when sick"
"0","    hr_S1   = rlnorm(n_sim, log(3),  0.01), # rate ratio of death in S1 vs healthy"
"0","    hr_S2   = rlnorm(n_sim, log(10), 0.02), # rate ratio of death in S2 vs healthy "
"0","    "
"0","    # State rewards"
"0","    # Costs"
"0","    c_H   = rgamma(n_sim, shape = 100, scale = 20)    , # cost of remaining one cycle in state H"
"0","    c_S1  = rgamma(n_sim, shape = 177.8, scale = 22.5), # cost of remaining one cycle in state S1"
"0","    c_S2  = rgamma(n_sim, shape = 225, scale = 66.7)  , # cost of remaining one cycle in state S2"
"0","    c_Trt = rgamma(n_sim, shape = 73.5, scale = 163.3), # cost of treatment (per cycle)"
"0","    c_D   = 0                                         , # cost of being in the death state"
"0","    "
"0","    # Utilities"
"0","    u_H   = rtruncnorm(n_sim, mean =    1, sd = 0.01, b = 1), # utility when healthy"
"0","    u_S1  = rtruncnorm(n_sim, mean = 0.75, sd = 0.02, b = 1), # utility when sick"
"0","    u_S2  = rtruncnorm(n_sim, mean = 0.50, sd = 0.03, b = 1), # utility when sicker"
"0","    u_D   = 0                                               , # utility when dead"
"0","    u_Trt = rtruncnorm(n_sim, mean = 0.95, sd = 0.02, b = 1), # utility when being treated"
"0","    d_e   = 0.03,  # discount factor for effectiveness"
"0","    d_c   = 0.03   # discount factor for costs"
"0","  )"
"0","  return(df_psa)"
"0","}"
"0","# Try it"
"0","generate_psa_params(10) "
